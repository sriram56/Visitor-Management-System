<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Visitor Login</title>
    <link rel="icon" href="securityimg/Logo1.jpg" type="image/x-icon">

    <!-- Bootstrap -->
    <link href="securitycss/bootstrap.min.css" rel="stylesheet">
    <link href="securityionicons/css/ionicons.min.css" rel="stylesheet">

    <!-- main css -->
    <link href="securitycss/style.css" rel="stylesheet">


    <!-- modernizr -->
    <script src="securityjs/modernizr.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
  .modal-header, h4, .close {
      background-color: #FBFFB9;
      color:black !important;
      text-align: center;
      font-size: 20px;
  }
  .modal-footer {
      background-color: white ;
  }
  </style>
</head>

<body>

    <!-- Preloader -->
    <div id="preloader">
        <div class="pre-container">
            <div class="spinner">
                <div class="double-bounce1"></div>
                <div class="double-bounce2"></div>
            </div>
        </div>
    </div>
    <!-- end Preloader -->

    <div class="container-fluid">
        

        <!-- box-intro -->
        <section class="col-md-4 col-sm-4 col-xs-12 box-intro">
            <!-- <div class="table-cell"> -->
                <h1 class="box-headline letters rotate-2">
                    <span class="box-words-wrapper">
                        <b class="is-visible">REGISTER</b>
                        <b>&nbsp;SNAP</b>
                        <b>MEET</b>
                    </span>
		        </h1>
                <!--<h5>Visitor Tag line</h5> -->
            <!-- </div> -->

           <!-- <div class="mouse">
                <div class="scroll"></div>
            </div> -->
        </section>
        <!-- end box-intro -->
    </div>

       
               <!-- single work  col-md-3 col-sm-6-->
                <div class=" col-md-4 col-sm-4 col-xs-12 ads graphics">
                     <a data-toggle = "modal" href="#myModal" class="portfolio_item">
                     <div id ="client">
                        <img src="securityimg/01.jpg" style="height:450px !important;"  alt="image" class="img-responsive img-thumbnail" />
                        <div class="portfolio_item_hover">
                            <div class="portfolio-border clearfix">
                                <div class="item_info">
                                    <span>INTERVIEWEE</span>
                                    <p>"Be so good,that they can't reject you"</p>
                                    
                                </div>
                            </div>
                        </div>
                        </div>
                    </a>
                </div>
                
                <!-- end single work -->
                

                

                <!-- single work  col-md-3 col-sm-6-->
                <div class=" col-md-4 col-sm-4 col-xs-12 ads graphics">
                     <a data-toggle = "modal" href="#secondModal" class="portfolio_item">
                     <div id ="client">
                        <img src="securityimg/01.jpg" style="height:450px !important;"  alt="image" class="img-responsive img-thumbnail" />
                        <div class="portfolio_item_hover">
                            <div class="portfolio-border clearfix">
                                <div class="item_info">
                                    <span>CLIENTS</span>
                                    <p>"The customer's perception is your reality"</p>
                                    
                                </div>
                            </div>
                        </div>
                        </div>
                    </a>
                </div>
                
                <!-- end single work -->

                <!-- single work -->
                <div class=" col-md-4 col-sm-4 col-xs-12 photography">
                    <a href="" class="portfolio_item">
                    <div id ="others">
                        <img src="securityimg/01.jpg" style="height:450px !important;" alt="image" class="img-responsive img-thumbnail" />
                        <div class="portfolio_item_hover">
                            <div class="portfolio-border clearfix">
                                <div class="item_info">
                                    <span>OTHERS</span>
                                    <p>"Service to man,is service to God"
                                </div>
                            </div>
                        </div>
                    </div>
                    </a>

                </div> 
                
                <!-- end single work -->


                
            </div>
            <!-- end portfolio_container -->
        </div>
        <!-- portfolio -->
    </div>
    <!-- end portfolio div -->

    <!--modal for interviewee -->
    <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Are you a Preappointed Interviewee ?</h4>
        </div>
        <div class="modal-body">
          <center>
         <b> Visitor ID Please :</b><input type ="text" name="vid" maxlength="5" id="vid" required></input>
         </center>
        </div>
        <div class="modal-footer">
          
          
          <!-- <input type="submit" class="btn btn-success" id="myBtn"> -->
          <!-- modal Trigger -->
          <button type="button" class="btn btn-success" id="myBtn">Submit</button>
          
        </div>
      </div>
      
    </div>
    </div>

    <!--Modal for Client-->
    <div class="modal fade" id="secondModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Are you a Preappointed Client ?</h4>
        </div>
        <div class="modal-body">
          <center>
         <b> Visitor ID Please :</b><input type ="text" name="vid" maxlength="5" id="cid" required></input>
         </center>
        </div>
        <div class="modal-footer">
          
          
          <button type="button" class="btn btn-success" id="myBtn2">Submit</button>
          
        </div>
      </div>
      
    </div>
    </div>

    <!-- Modal for interview Info -->

    <!-- Modal -->
  <div class="modal fade" id="Interinfo" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header" style="padding:15px 15px;">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4><span class="glyphicon glyphicon-book"></span> Visitor Interviewee Info</h4>
        </div>
        <div class="modal-body" style="padding:40px 50px;">
          <form role="form">
            <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-user"></span>First Name</label>
              <input type="text" class="form-control" id="FirstName" >
            </div>
             <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-user"></span> Last Name</label>
              <input type="text" class="form-control" id="LastName" >
            </div>
            <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-envelope"></span>Email</label>
              <input type="text" class="form-control" id="Email" >
            </div>
            <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-earphone"></span>Phone</label>
              <input type="text" class="form-control" id="Phone" >
            </div>
            <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-road"></span>Coming From</label>
              <input type="text" class="form-control" id="Address" >
            </div>
            <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-thumbs-up"></span>Role</label>
              <input type="text" class="form-control" id="Role" >
            </div>
            <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-user"></span>Point Of Contact</label>
              <input type="text" class="form-control" id="Poc" >
            </div>
            <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-calendar"></span>Date</label>
              <input type="text" class="form-control" id="Date" >
            </div>
              <button type="submit" class="btn btn-success btn-block"><span class="glyphicon glyphicon-thumbs-up"></span>Submit</button>
          </form>
        </div>
        <div class="modal-footer">

          <button type="submit" class="btn btn-danger btn-default pull-left" data-dismiss="modal"><span class="glyphicon glyphicon-remove">

          </span>Cancel</button>
 
        </div>
      </div>
      
    </div>
  </div>


 <!-- Modal for interview Info -->

    <!-- Modal -->
  <div class="modal fade" id="Clientinfo" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header" style="padding:15px 15px;">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4><span class="glyphicon glyphicon-book"></span> Visitor Client Info</h4>
        </div>
        <div class="modal-body" style="padding:40px 50px;">
          <form role="form">
            <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-user"></span>First Name</label>
              <input type="text" class="form-control" id="CFirstname" >
            </div>
             <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-user"></span> Last Name</label>
              <input type="text" class="form-control" id="CLastname" >
            </div>
            <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-envelope"></span>Email</label>
              <input type="text" class="form-control" id="CEmail" >
            </div>
            <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-earphone"></span>Phone</label>
              <input type="text" class="form-control" id="CPhone" >
            </div>
            <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-road"></span>Coming From</label>
              <input type="text" class="form-control" id="CAddress" >
            </div>
            <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-home"></span>Organisation Name</label>
              <input type="text" class="form-control" id="COrg" >
            </div>
            <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-file"></span>Purpose Of Visit</label>
              <input type="text" class="form-control" id="CPurp" >
            </div>
            <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-user"></span>Point Of Contact</label>
              <input type="text" class="form-control" id="CPoc" >
            </div>
            <div class="form-group">
              <label for="usrname"><span class="glyphicon glyphicon-calendar"></span>Date</label>
              <input type="text" class="form-control" id="CDate" >
            </div>
              <button type="submit" class="btn btn-success btn-block"><span class="glyphicon glyphicon-thumbs-up"></span> Submit</button>
          </form>
        </div>
        <div class="modal-footer">

          <button type="submit" class="btn btn-danger btn-default pull-left" data-dismiss="modal"><span class="glyphicon glyphicon-remove">

          </span>Cancel</button>
 
        </div>
      </div>
      
    </div>
  </div>
    

    <!-- back to top 
    <a href="#0" class="cd-top"><i class="ion-android-arrow-up"></i></a>
    <!-- end back to top -->



    <!-- jQuery -->
    <script src="securityjs/jquery-2.1.1.js"></script>
    <!--  plugins -->
    <script src="securityjs/bootstrap.min.js"></script>
    <script src="securityjs/menu.js"></script>
    <script src="securityjs/animated-headline.js"></script>
    <script src="securityjs/isotope.pkgd.min.js"></script>


    <!--  custom script -->
    <script src="securityjs/custom.js"></script>
   

   <!-- modal with ajax calls both client and interview --> 
    
    <script>
$(document).ready(function(){
    $("#myBtn").click(function(){
var InterviewObject = {
    "visitorInfo": 
    {
      "vid": document.getElementById("vid").value
    }
	};

	sendIvid(InterviewObject);

    });

 $("#myBtn2").click(function(){
var ClientObject = {
    "visitorInfo": 
    {
      "vid": document.getElementById("cid").value
    }
	};

	sendCvid(ClientObject);

    });

});

function sendIvid(data) {

$.ajax({
        url: "http://localhost:8080/Guest/ReadService/VisitorById",
        type: 'POST',
        contentType: "application/json",
        dataType: "text",
      	data: JSON.stringify(data),

        success: function (successData) {
            console.log(successData);
            fillIdata(successData);  
        },
        error: function (errorData) {
           console.log(errorData);  
          alert(JSON.stringify(errorData));
          //fillIdata(sucessData); 
        }
    });
}

function fillIdata(datafill)
{
	var i = 0;
	var arr = [];
	
	console.log(datafill);
	
	document.getElementById("FirstName").value = datafill.visitorInfo.first_name;
	document.getElementById("LastName").value = datafill.visitorInfo.last_name;
	document.getElementById("Email").value = datafill.visitorInfo.email;
	document.getElementById("Phone").value = datafill.visitorInfo.mobile_number;
	document.getElementById("Address").value = datafill.visitorInfo.address;
	document.getElementById("Role").value = datafill.visitorInfo.role;
	document.getElementById("Poc").value = datafill.visitorInfo.poc;
	document.getElementById("Date").value = datafill.visitorInfo.date;

	$("#Interinfo").modal();

}

function sendCvid(data) {

$.ajax({
        url: "http://localhost:8080/Guest/ReadService/VisitorById",
        type: 'POST',
        contentType: "application/json",
        dataType: "text",
      	data: JSON.stringify(data),

        success: function (successData) {
            console.log(successData);
            fillCdata(successData);  
        },
        error: function (errorData) {
           console.log(errorData);  
          alert(JSON.stringify(errorData));
          //fillCdata(sucessData); 
        }
    });
}

function fillCdata(datafill)
{
	document.getElementById("CFirstname").value = datafill.visitorInfo.first_name;
	document.getElementById("CLastname").value = datafill.visitorInfo.last_name;
	document.getElementById("CEmail").value = datafill.visitorInfo.email;
	document.getElementById("CPhone").value = datafill.visitorInfo.mobile_number;
	document.getElementById("CAddress").value = datafill.visitorInfo.address;
	document.getElementById("COrg").value = datafill.visitorInfo.org;
	document.getElementById("CPurp").value = datafill.visitorInfo.purpose;
	document.getElementById("CPoc").value = datafill.visitorInfo.poc;
	document.getElementById("CDate").value = datafill.visitorInfo.date;

	$("#Clientinfo").modal();

}


</script>
</body>

</html>